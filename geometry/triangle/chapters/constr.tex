%
\renewcommand{\theequation}{\theenumi}
\begin{enumerate}[label=\thesection.\arabic*.,ref=\thesection.\theenumi]
\numberwithin{equation}{enumi}

\item The trapezium ABCD looks like the Fig. \ref{fig:trapezium_ABCD}.
with $AB \parallel DC \parallel EF $


%\renewcommand{\thefigure}{\theenumi.\arabic{figure}}
\begin{figure}[!ht]
\centering
\resizebox{\columnwidth}{!}{\input{./figs/prob.tex}}
\caption{Trapezium ABCD by Latex-Tikz}
\label{fig:trapezium_ABCD}	
\end{figure}
%


%
%\renewcommand{\thefigure}{\theenumi}
%
\item List the design parameters for construction
\label{const:table1}
\\
\solution See Table. \ref{table:table1} 
%
\begin{table}[ht!]
\centering
%\begin{tabular}{ |p{3cm}|p{3cm}|  }
%\hline
% \multicolumn{2}{|c|}{Initial Input Values.} \\
%\hline
%\hline
%Length of AB (a) & 4\\
%\hline
%Length of DC (c) & 9\\
%\hline
%Length of AD (d) & 5\\
%\hline
%Height of the trapezium (h) & 3\\
%\hline
%Height at which EF is drawn (k) & 1.5\\
%\hline
%\end{tabular}
\input{./tables/inp.tex}
\caption{To construct trapezium ABCD}
\label{table:table1}	
\end{table}

%\item

\item Find the coordinates of the various points in Fig. \ref{fig:trapezium_ABCD}
\label{const:trapezium_ABCD}
\\
%
\solution From the given information, 
\begin{align}
\label{eq:constr_d}
\vec{D} &= \myvec{0\\0} 
\\
\vec{C} &= \myvec{0\\c} = \myvec{0\\9} 
\label{eq:constr_c}
\end{align}

$\because \vec{A}$ x coordinate is given , y coordinate is same as the height of the trapezium.  
\begin{align}
\implies \vec{A} &= \myvec{x_a\\h}
\label{eq:constr_a}
\end{align}
%
Also, $\vec{B}$ is at a distance from $\vec {A}$ and AB is parallel to x axis. 
\newline
From \eqref{eq:constr_a},$\vec{A} = \myvec{x_a\\h}$ 
Let $\vec{B} = \myvec{x_b\\h}$
\begin{align}
a^2 &=\norm{\vec{A}-\vec{B}}^2 = \norm{\vec{A}-\vec{B}}^T\norm{\vec{A}-\vec{B}}  
\\
&= \vec{A}^T\vec{A}+\vec{B}^T\vec{B}-\vec{A}^T\vec{B} - \vec{B}^T\vec{A} 
\\
&= \norm{\vec{A}}^2 + \norm{\vec{B}}^2 - 2\vec{A}^T\vec{B} \quad \brak{\because \vec{A}^T\vec{B} = \vec{B}^T\vec{A} } 
\label{eq:tri_const_norm_ac}
\\
&= x_a^2+h^2+x_b^2+h^2-2(x_a x_b + h^2)
\\
&= \brak{x_a-x_b}^2
\\
x_b = x_a + a
\\
%\vec{B} &= \myvec{{x_a + a}\\h} 
\label{eq:constr_b}
\end{align}

$\vec{E}$ divides AD in the ratio k: 1. 
\begin{align}
\frac{AD}{ED} = k+1 
\\
\vec{E} &= \frac{{{k\vec{D}} +\vec{A}}}{k+1}
\\
%\implies \vec{E} & =\frac{1}{k+1}\myvec{x_a\\h}
\label{eq:constr_e}
\end{align}
%
Let $\vec{F}$ divide BC in ratio m:1.
\begin{align}
\vec{F} &= \frac{{{m\vec{C}} +\vec{B}}}{m+1}
\\
%\vec{F} &=\frac{1}{m+1} \myvec{cm +x_a + a\\h}
\label{eq:findm}
\end{align}
EF is parallel to DC and hence the x axis. So we equate y coordinates of E and F to find m.
\\
from \ref{eq:constr_e} and \ref{eq:findm}
\begin{align}
\frac{h}{k+1} = \frac{h}{m+1}
\\
 m = k 
\\
\vec{F} &= \frac{{k\vec{C} +\vec{B}}}{k+1}
\\
%\vec{F} &=\frac{1}{k+1} \myvec{ck +x_a + a\\h}
\label{eq:constr_f}
\end{align}
%
The values are listed in \ref{table:table2}. 
%
\begin{table}[ht!]
\centering
\input{./tables/out.tex}
\caption{Derived coordinates trapezium ABCD}
\label{table:table2}	
\end{table}
 
%\item List the  derived values.
%\label{const:table2}
%\\
%\solution See  
%Table. \ref{table:table2} 
%\begin{table}[ht!]
%\centering
%\begin{tabular}{ |p{3cm}|p{3cm}|  }
%\hline
% \multicolumn{2}{|c|}{Derived Values.} \\
%\hline
%$\vec{A}$ & $\begin{pmatrix}4\\3\end{pmatrix}$\\
%\hline
%$\vec{B}$ & $\begin{pmatrix}8\\3\end{pmatrix}$\\
%\hline
%$\vec{E}$ & $\begin{pmatrix}2\\1.5\end{pmatrix}$\\
%\hline
%$\vec{F}$ & $\begin{pmatrix}8.5\\1.5\end{pmatrix}$\\
%\hline
%$\vec{M}$ & $\begin{pmatrix}4\\1.5\end{pmatrix}$\\
%\hline
%$\vec{N}$ & $\begin{pmatrix}8\\1.5\end{pmatrix}$\\
%\hline
%$\vec{X}$ & $\begin{pmatrix}4\\0\end{pmatrix}$\\
%\hline
%$\vec{Y}$ & $\begin{pmatrix}8\\0\end{pmatrix}$\\
%\hline
%\end{tabular}
%\caption{To construct Trapezium ABCD}
%\label{table:table2}
%\end{table}
%
\item Draw Fig. \ref{fig:trapezium_ABCD} using python	
\\
\solution The  following Python code generates Fig. \ref{fig:trapezium_ABCD}
%
\begin{lstlisting}
codes/prob.py
\end{lstlisting}
\begin{figure}[!ht]
\centering
\includegraphics[width=\columnwidth]{./codes/pyfigs/pyfigs.eps}
\caption{Trapezium ABCD generated using python}
\label{fig:trap_py}
\end{figure}

%
and the equivalent latex-tikz code generating Fig. \ref{fig:trapezium_ABCD} is 
\begin{lstlisting}
figs/prob.tex
\end{lstlisting}
%
The above latex code can be compiled as a standalone document as
\begin{lstlisting}
figs/prob_alone.tex
\end{lstlisting}

%

%

%
%

\end{enumerate}
